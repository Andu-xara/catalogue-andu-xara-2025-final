<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Communauté Andu-Xara - Recommandations</title>
<style>
body { font-family:'Segoe UI', sans-serif; background:#f4f4f4; margin:0; padding:20px; }
h1 { text-align:center; color:#667eea; margin-bottom:20px; }
form, .post-card { background:white; padding:15px; border-radius:12px; margin-bottom:20px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
input, textarea, button { width:100%; padding:10px; margin:5px 0; border-radius:6px; border:1px solid #ccc; box-sizing:border-box; }
button { background:#667eea; color:white; border:none; cursor:pointer; font-weight:bold; transition:0.3s; }
button:hover { background:#5566cc; }
.posts-container { display:flex; flex-direction:column; gap:20px; }
.post-card h3 { margin:0 0 5px 0; color:#333; }
.post-card p { margin:0; }
small { color:#666; font-size:0.8em; }
</style>
</head>
<body>

<h1>Communauté Andu-Xara</h1>

<form id="postForm">
  <input type="text" id="name" placeholder="Votre nom" required>
  <textarea id="message" placeholder="Votre recommandation ou conseil" required></textarea>
  <button type="submit">Publier</button>
</form>

<div class="posts-container" id="postsContainer"></div>

<script>
const postForm = document.getElementById("postForm");
const postsContainer = document.getElementById("postsContainer");

// Charger les posts depuis localStorage
let posts = JSON.parse(localStorage.getItem("posts")) || [];

// Fonction pour afficher les posts
function renderPosts() {
  postsContainer.innerHTML = "";
  posts.slice().reverse().forEach(post => {
    const card = document.createElement("div");
    card.className = "post-card";
    card.innerHTML = `
      <h3>${post.name}</h3>
      <p>${post.message}</p>
      <small>Publié le : ${post.date}</small>
    `;
    postsContainer.appendChild(card);
  });
}

// Ajouter un nouveau post
postForm.addEventListener("submit", e => {
  e.preventDefault();
  
  const name = document.getElementById("name").value.trim();
  const message = document.getElementById("message").value.trim();
  
  if(!name || !message) return alert("Veuillez remplir tous les champs.");

  const newPost = {
    name,
    message,
    date: new Date().toLocaleString()
  };

  posts.push(newPost);
  localStorage.setItem("posts", JSON.stringify(posts));

  renderPosts();
  postForm.reset();
});

// Afficher les posts au chargement
renderPosts();
</script>

</body>
</html>
